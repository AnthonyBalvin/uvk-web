---
// src/layouts/Layout.astro
import Header from '../components/Header.astro';
import '../styles/global.css';

export interface Props {
  title: string;
}

const { title } = Astro.props;

const currentPath = Astro.url.pathname.toLowerCase();
const hideHeader = currentPath.startsWith('/login') || 
                  currentPath.startsWith('/registro') || 
                  currentPath.startsWith('/forgot-password') || 
                  currentPath.startsWith('/update-password');
---

<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <title>{title}</title>
</head>
<body>
    { !hideHeader && <Header /> }
    <slot />
</body>
</html>

<style>
    /* Reset básico */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    html, body {
        height: 100%;
        overflow-x: hidden;
    }
    
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
        line-height: 1.6;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
    
    /* Estilos específicos para páginas con header */
    body:not(.no-header) {
        background: linear-gradient(135deg, #f8f5f0 0%, #f2ede6 100%);
        min-height: 100vh;
    }
    
    /* Para páginas de login/registro mantener el fondo oscuro */
    .auth-page {
        background-color: #0f0f0f !important;
        color: #ffffff !important;
    }
</style>

<script>
  // Agregar clase para páginas de autenticación
  document.addEventListener('DOMContentLoaded', function() {
    const path = window.location.pathname.toLowerCase();
    const isAuthPage = path.startsWith('/login') || 
                      path.startsWith('/registro') || 
                      path.startsWith('/forgot-password') || 
                      path.startsWith('/update-password');
    
    if (isAuthPage) {
      document.body.classList.add('auth-page');
    }
  });
</script>